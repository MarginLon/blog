(window.webpackJsonp=window.webpackJsonp||[]).push([[67],{380:function(t,s,n){"use strict";n.r(s);var a=n(7),e=Object(a.a)({},(function(){var t=this,s=t._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("ul",[s("li",[s("a",{attrs:{href:"#1-gc%E6%9C%BA%E5%88%B6"}},[t._v("1. GC机制")])]),t._v(" "),s("li",[s("a",{attrs:{href:"#2-%E9%97%AD%E5%8C%85%E4%BD%9C%E7%94%A8%E5%9F%9F"}},[t._v("2. 闭包作用域")])]),t._v(" "),s("li",[s("a",{attrs:{href:"#3-letconstvar"}},[t._v("3. let/const/var")])])]),t._v(" "),s("h2",{attrs:{id:"_1-gc机制"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-gc机制"}},[t._v("#")]),t._v(" 1. GC机制")]),t._v(" "),s("ul",[s("li",[t._v("GC：浏览器的垃圾回收机制（内存释放）\n"),s("ul",[s("li",[t._v("栈内存：\n"),s("ul",[s("li",[t._v("加载页面，形成全局context，只有页面关闭后，全局context释放")]),t._v(" "),s("li",[t._v("函数执行私有context，进栈执行；函数中代码执行完成，大部分情况，出栈释放。\n"),s("ul",[s("li",[t._v("特殊：如果当前context的某些内容（一般是一个堆），被context以外内容占用，则不能出栈释放。")])])])])]),t._v(" "),s("li",[t._v("堆内存\n"),s("ul",[s("li",[t._v("（谷歌）：标记清除\n"),s("ul",[s("li",[t._v("浏览器在空闲或指定时间，查看所有堆内存，把没有被任何东西占用的堆内存释放。")])])]),t._v(" "),s("li",[t._v("（IE低版本）：引用计数\n"),s("ul",[s("li",[t._v("创建了堆内存，被占用一次，则浏览器计数+1，取消占用计数-1，计数=0释放内存； => 某些情况（循环占用）导致计数混乱，出现“内存泄漏”")])])])])]),t._v(" "),s("li",[t._v("释放内存：\n"),s("ul",[s("li",[t._v("x=null => 手动取消占用")])])])])])]),t._v(" "),s("hr"),t._v(" "),s("h2",{attrs:{id:"_2-闭包作用域"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-闭包作用域"}},[t._v("#")]),t._v(" 2. 闭包作用域")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://github.com/MarginLon/theImages/blob/master/%E9%97%AD%E5%8C%85%E6%A1%88%E4%BE%8B.png?raw=true",alt:"闭包案例"}})]),t._v(" "),s("ul",[s("li",[t._v("匿名函数具名化：自执行函数 + 函数表达式\n"),s("ul",[s("li",[t._v("自执行函数:\n"),s("ul",[s("li",[t._v("不会在所处上下文（宿主环境）中声明：设置的名字在外面用不了")]),t._v(" "),s("li",[t._v("在自己执行产生的上下文中会被声明赋值，赋值为函数本身")]),t._v(" "),s("li",[t._v("赋值默认不能被修改，但被其他方式声明则可以修改，以声明为主。")])])])])])]),t._v(" "),s("div",{staticClass:"language-js line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[t._v("  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("fn")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" fn "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("100")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 生效")]),t._v("\n    fn "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("100")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 无效")]),t._v("\n    console"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("fn"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 函数本身")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("fn")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// arguments.callee() 递归")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br")])]),s("ul",[s("li",[t._v("EC(FN)：\n"),s("ul",[s("li",[t._v("开辟的某个堆内存，被当前EC(FN)外的变量占用，此时当前context即EC(FN)不能被出栈释放")]),t._v(" "),s("li",[t._v("闭包：(大函数执行返回小函数只是其中一种形式)\n"),s("ul",[s("li",[t._v("函数执行产生一个私有context，保护内部私有变量不受污染。[保护]")]),t._v(" "),s("li",[t._v("有可能形成不被释放的context，私有变量和一些值被保存，可供下级context中调取使用。[保存]")]),t._v(" "),s("li",[t._v("闭包特点\n"),s("ul",[s("li",[t._v("保护：保护私有context的私有变量和外界互不影响")]),t._v(" "),s("li",[t._v("保存：context的私有变量和值保存起来")]),t._v(" "),s("li",[t._v("弊端：栈内存太大，影响性能，需合理利用")])])])])])])])]),t._v(" "),s("hr"),t._v(" "),s("h2",{attrs:{id:"_3-let-const-var"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-let-const-var"}},[t._v("#")]),t._v(" 3. let/const/var")]),t._v(" "),s("ul",[s("li",[t._v("let VS const\n"),s("ul",[s("li",[t._v("let 变量储值可改")]),t._v(" "),s("li",[t._v("const 赋值不能再与其他赋值关联")])])]),t._v(" "),s("li",[t._v("let VS var\n"),s("ul",[s("li",[s("p",[t._v("变量提升：var 存在变量提升 let 不存在变量提升")])]),t._v(" "),s("li",[s("p",[t._v("GO：全局context var相当于给GO增一个属性，随动；let和GO没有关系。")])]),t._v(" "),s("li",[s("p",[t._v("重复声明：let不允许同context重复声明（不管先前何种方式声明，都不能let声明,词法解析阶段），var无所谓。")])]),t._v(" "),s("li",[s("p",[t._v("let/const/function产生块级私有context")]),t._v(" "),s("ul",[s("li",[t._v("context & 作用域\n"),s("ul",[s("li",[t._v("全局context")]),t._v(" "),s("li",[t._v("函数执行的私有context")]),t._v(" "),s("li",[t._v("块级作用域（私有context）\n"),s("ul",[s("li",[s("p",[t._v("对象 function的大括号 判断，循环和代码块的大括号")]),t._v(" "),s("div",{staticClass:"language-js line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[t._v("    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("debugger")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//开启断点调试,控制台基于F10/F11 逐过程/逐语句 控制执行")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//代码块不会对n产生限制，n使全局context")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" n "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("12")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        console"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n        "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" m "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("13")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    console"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    console"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("m"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// m is not defined")]),t._v("\n\n\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" i "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//不产生块级context")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" i"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("5")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("i"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("++")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        console"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("i"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    console"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("i"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//5")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br"),s("span",{staticClass:"line-number"},[t._v("11")]),s("br"),s("span",{staticClass:"line-number"},[t._v("12")]),s("br"),s("span",{staticClass:"line-number"},[t._v("13")]),s("br"),s("span",{staticClass:"line-number"},[t._v("14")]),s("br"),s("span",{staticClass:"line-number"},[t._v("15")]),s("br"),s("span",{staticClass:"line-number"},[t._v("16")]),s("br"),s("span",{staticClass:"line-number"},[t._v("17")]),s("br"),s("span",{staticClass:"line-number"},[t._v("18")]),s("br")])])])])])])])])]),t._v(" "),s("li",[s("p",[t._v("暂时性死区（基于typeof检测一个未被声明的变量，不会报错，结果是'undefined'）")]),t._v(" "),s("ul",[s("li",[s("p",[t._v("只要块级作用域内存在let命令，它所声明的变量就“绑定”（binding）这个区域，不再受外部的影响。")]),t._v(" "),s("div",{staticClass:"language-js line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[t._v("console"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("typeof")]),t._v(" n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//undefined")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" n "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("12")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//使上一句报错 ")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br")])])])]),t._v(" "),s("p",[s("img",{attrs:{src:"https://github.com/MarginLon/theImages/blob/master/var%E5%8F%98%E9%87%8F.png?raw=true",alt:"var"}})])])])])]),t._v(" "),s("hr")])}),[],!1,null,null,null);s.default=e.exports}}]);